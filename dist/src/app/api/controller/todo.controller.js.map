{"version":3,"sources":["../../../../../src/app/api/controller/todo.controller.js"],"names":["mongoose","require","uuidv4","TodoModel","model","exports","create","req","res","id","name","body","description","dueDate","duedate","priority","err","send","console","log","find","todos","json","remove","_id","params","todo","update","findOneAndUpdate","taskId","new","task","findOne","findById"],"mappings":"AAAA;;AAEA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASD,QAAQ,SAAR,CAAb;AACA,IAAIE,YAAYH,SAASI,KAAT,CAAe,MAAf,CAAhB;;AAEAC,QAAQC,MAAR,GAAiB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAChCL,cAAUG,MAAV,CAAiB;AACbG,YAAIP,QADS;AAEbQ,cAAMH,IAAII,IAAJ,CAASD,IAFF;AAGbE,qBAAaL,IAAII,IAAJ,CAASC,WAHT;AAIbC,iBAASN,IAAII,IAAJ,CAASG,OAJL;AAKbC,kBAAUR,IAAII,IAAJ,CAASI;AALN,KAAjB,EAMG,UAAUC,GAAV,EAAe;AACd,YAAIA,GAAJ,EAAS;AACLR,gBAAIS,IAAJ,CAASD,GAAT;AACAE,oBAAQC,GAAR,CAAYH,GAAZ;AACH;AACDb,kBAAUiB,IAAV,CAAe,UAAUJ,GAAV,EAAeK,KAAf,EAAsB;AACjC,gBAAIL,GAAJ,EAAS;AACLR,oBAAIS,IAAJ,CAASD,GAAT;AACH;AACDR,gBAAIc,IAAJ,CAASD,KAAT;AACAH,oBAAQC,GAAR,CAAYE,KAAZ;AACH,SAND;AAOH,KAlBD;AAmBH,CApBD;;AAsBAhB,QAAQe,IAAR,GAAe,UAASb,GAAT,EAAcC,GAAd,EAAmB;AAC9BL,cAAUiB,IAAV,CAAe,UAAUJ,GAAV,EAAeK,KAAf,EAAsB;AACjC,YAAIL,GAAJ,EAAS;AACLR,gBAAIS,IAAJ,CAASD,GAAT;AACH;AACDR,YAAIc,IAAJ,CAASD,KAAT;AACAH,gBAAQC,GAAR,CAAYE,KAAZ;AACH,KAND;AAOH,CARD;;AAUAhB,QAAQkB,MAAR,GAAiB,UAAShB,GAAT,EAAcC,GAAd,EAAmB;AAChCL,cAAUoB,MAAV,CAAiB;AACbC,aAAKjB,IAAIkB,MAAJ,CAAWhB;AADH,KAAjB,EAEG,UAAUO,GAAV,EAAeU,IAAf,EAAqB;AACpB,YAAIV,GAAJ,EAAS;AACLR,gBAAIS,IAAJ,CAASD,GAAT;AACH;AACDI,aAAKb,GAAL,EAAUC,GAAV;AACH,KAPD;AAQH,CATD;;AAWAH,QAAQsB,MAAR,GAAiB,UAASpB,GAAT,EAAcC,GAAd,EAAmB;AAChCL,cAAUyB,gBAAV,CACI;AACIJ,aAAKjB,IAAIkB,MAAJ,CAAWI;AADpB,KADJ,EAGOtB,IAAII,IAHX,EAGiB,EAACmB,KAAK,IAAN,EAHjB,EAII,UAAUd,GAAV,EAAee,IAAf,EAAqB;AACjB,YAAIf,GAAJ,EACIR,IAAIS,IAAJ,CAASD,GAAT;AACRR,YAAIc,IAAJ,CAASS,IAAT;AACH,KARD;AASH,CAVD;;AAYA1B,QAAQ2B,OAAR,GAAkB,UAASzB,GAAT,EAAcC,GAAd,EAAmB;AACjCL,cAAU8B,QAAV,CAAmB1B,IAAIkB,MAAJ,CAAWI,MAA9B,EAAsC,UAAUb,GAAV,EAAee,IAAf,EAAqB;AACvD,YAAIf,GAAJ,EACIR,IAAIS,IAAJ,CAASD,GAAT;AACJR,YAAIc,IAAJ,CAASS,IAAT;AACH,KAJD;AAKH,CAND","file":"todo.controller.js","sourcesContent":["'use strict';\n\nvar mongoose = require('mongoose');\nvar uuidv4 = require('uuid/v4');\nvar TodoModel = mongoose.model('Todo')\n\nexports.create = function(req, res) {\n    TodoModel.create({\n        id: uuidv4(),\n        name: req.body.name,\n        description: req.body.description,\n        dueDate: req.body.duedate,\n        priority: req.body.priority,\n    }, function (err) {\n        if (err) {\n            res.send(err);\n            console.log(err);\n        }\n        TodoModel.find(function (err, todos) {\n            if (err) {\n                res.send(err);\n            }\n            res.json(todos);\n            console.log(todos)\n        });\n    });\n};\n\nexports.find = function(req, res) {\n    TodoModel.find(function (err, todos) {\n        if (err) {\n            res.send(err);\n        }\n        res.json(todos);\n        console.log(todos)\n    });\n};\n\nexports.remove = function(req, res) {\n    TodoModel.remove({\n        _id: req.params.id\n    }, function (err, todo) {\n        if (err) {\n            res.send(err);\n        }\n        find(req, res);\n    });\n};\n\nexports.update = function(req, res) {\n    TodoModel.findOneAndUpdate(\n        {\n            _id: req.params.taskId\n        }, req.body, {new: true},\n        function (err, task) {\n            if (err)\n                res.send(err);\n        res.json(task);\n    });\n};\n\nexports.findOne = function(req, res) {\n    TodoModel.findById(req.params.taskId, function (err, task) {\n        if (err)\n            res.send(err);\n        res.json(task);\n    });\n};\n\n"]}